<form  [formGroup]="generalForm "(ngSubmit)="onSubmit()" >
  <div class="form-body">
    <div class="form-row-view">
      <div class="form-row-legend">
        <h2 class="title-2">General</h2>
        <p class="desc text-body-secondary">Set status and category for this property</p>
      </div>
      <div class="form-row-body">
        <div class="form-list-view">
          <legend class="radio_legend">Deal type</legend>
          <div class="radio_options">
            <label class="radio_option">
              <input type="radio" name="deal_type" formControlName="deal_type" value="sale"  class="radio_input" checked />
              <span class="radio_state text-base">Sale</span>
            </label>
            <label class="radio_option">
              <input type="radio" name="deal_type" formControlName="deal_type" value="rent" class="radio_input" />
              <span class="radio_state text-base">Rent</span>
            </label>
          </div>
        </div>
        <div class="d-grid gap-4" style="grid-template-columns: repeat(2, 1fr)">
          <div class="input">
            <label for="inputref" class="input_label  "  >Reference</label>
            <div class="input_inner">
              <input type="text" id="inputref" name="inputref" formControlName="Reference" placeholder="Enter a Reference" class="input_control" />
            </div>
            <p class="input_hint  mt-1">Required</p>
          </div>
          
          <div class="select-status">
            <label for="status" class="input_label">Status</label>
            <app-dropdown
            id="status"
            [options]="statusArray" 
            [placeholder]="'Select status'"
            [selectedValue]="generalForm.get('status')?.value"
            (optionSelected)="onStatusSelected($event)"
            >
          </app-dropdown>
            <p class="input_hint mt-1">Required</p>
          </div>

          <div class="select-status">
            <label for="category" class="input_label">Category</label>
            <app-dropdown
            id="category"
            [options]="categoriesArray" 
            [placeholder]="'select category'"
            [selectedValue]="generalForm.get('category')?.value"
            (optionSelected)="onCategorySelected($event)">
          </app-dropdown>
            <p class="input_hint mt-1">Required</p>
          </div>

          
          <div class="input" *ngIf="generalForm.get('deal_type')?.value === 'rent'" >
            <label for="availabilityDate" class="input_label " >Availability Date</label>
            <div class="input_inner ">
              <input type="date" class="input_control"   formControlName="availabilityDate" />
            </div>
            <p class="input_hint  mt-1">Required</p>
          </div>
          

          <div class="select-status">
            <label for="broker" class="input_label">Broker</label>
            <app-dropdown
            id="broker"
            [options]="brokersArray" 
            [placeholder]="'Select broker'"
            [selectedValue]="generalForm.get('broker')?.value"
            (optionSelected)="onBrokerSelected($event)">
          </app-dropdown>
            <p class="input_hint mt-1">Required</p>
          </div>

          <div class="select-status">
            <label for="WorkFlow" class="input_label">WorkFlow</label>
            <app-dropdown
            id="WorkFlow"
            [options]="workflowsArray" 
            [placeholder]="'Select WorkFlow'"
            [selectedValue]="generalForm.get('workflow')?.value"
            (optionSelected)="onWorkflowSelected($event)">
          </app-dropdown>
            <p class="input_hint mt-1">Required</p>
          </div>

          <div class="select-status " *ngIf="generalForm.get('deal_type')?.value === 'rent'">
            <label for="frequency" class="input_label">Rental frequency</label>
            <app-dropdown
        id="frequency"
        [options]="frequencyArray" 
        [placeholder]="'Select rental frequency'"
        [selectedValue]="generalForm.get('frequency')?.value"
        (optionSelected)="onFrequencySelected($event)">
      </app-dropdown>
            <p class="input_hint mt-1">Required</p>
          </div>

        </div>
        
        <div class="input">
          <label for="radio_input" class="input_label  " >Off Market</label>
          <div class="radio_options">
            
            <label class="radio_option">
              <input type="radio"  formControlName="offMarket" value="YES"  class="radio_input" checked />
              <span class="radio_state text-bold">YES</span>
            </label>
            <label class="radio_option">
              <input type="radio"  formControlName="offMarket" value="NO" class="radio_input" />
              <span class="radio_state ">NO</span>
            </label>
          </div>
        </div>
        <div class="cheque-select" *ngIf="generalForm.get('deal_type')?.value === 'rent'" >
          <label for="cheque" class="input_label">Cheques</label>
        <div class="select-wraper ">
          <button class="box"
              type="button"
              *ngFor="let option of chequesOptions"
              [class.selected]="
                generalForm.get('cheques')?.value === option.value
              "
              (click)="selectcheques(option.value)"
            >
              {{ option.label }}
            </button>
        </div>
        </div>
      </div>
      
    </div>
    <div class="form-row-view">
      <div class="form-row-legend">
        <h2 class="title-2">Mandate</h2>
        <p class="desc text-body-secondary fs-6">Enter details of building and mandate</p>
      </div>
      <div class="form-row-body">
        <div class="form-list-view">
          <div class="select-status">
            <label for="mandate" class="input_label">Mandate type</label>
            <app-dropdown
            id="mandate"
            [options]="mandateArray" 
            [placeholder]="'Select mandate type'"
            [selectedValue]="generalForm.get('mandate_type')?.value"
            (optionSelected)="onMandateSelected($event)">
          </app-dropdown>
            <p class="input_hint mt-1">Required</p>
          </div>

        </div>
        <div class="grid-col-3 gap-6">
          <div class="input">
            <label for="inputref" class="input_label " >Start of mandate</label>
            <div class="input_inner ">
              <input type="date" class="input_control"   formControlName="mdstart" />
            </div>
            <p class="input_hint  mt-1">Required</p>
          </div>
          <div class="input">
            <label for="inputref" class="input_label " >End of Mandate</label>
            <div class="input_inner ">
              <input type="date" class="input_control"   formControlName="mdend" />
            </div>
            <p class="input_hint  mt-1">Required</p>
          </div>
          <div class="input">
            <label for="inputref" class="input_label " >Renewal of mandate</label>
            <div class="input_inner ">
              <input type="date" class="input_control"   formControlName="mdsrenewal" />
            </div>
            <p class="input_hint  mt-1">Required</p>
          </div>

         </div>
         <div class="input">
          <label for="rera" class="input_label" >RERA permit number</label>
          <div class="input_inner">
            <input type="number" id="rera" name="inputref" formControlName="RERA" placeholder="Enter your number for validation" class="input_control" />
          </div>
          <p class="input_hint  mt-1">Required</p>
        </div>
        <div class="input">
          <label for="dtcm" class="input_label  " >DTCM permit number</label>
          <div class="input_inner">
            <input type="number" id="dtcm" name="inputref" formControlName="DTCM" placeholder="Enter your number for validation" class="input_control" />
          </div>
          <p class="input_hint mt-1">Required</p>
        </div>
      </div> 
      
    </div>
    <button type="submit" [disabled]="generalForm.invalid">Submit</button>
  </div>
 
</form>